
<html>
<head>
<meta http-equiv="Content-Type" content="text/html";charset=utf-8">
    <title>Title</title>
    <link rel="stylesheet" href="css/bootstrap.css">
    <script type="text/javascript" src="js/bootstrap.js"></script>
</head>
<body>
<script>
    import  Nervos from './node_modules/@nervos/chain';
    const nervos =Nervos('http://localhost:1337');
    var sendTo= 0xcB700EE03b47d5fCb389D39B6a76cBC3E1C5ac0f;
    // const Nervos = require( "@nervos/chain");
    // const nervos =require('../usr/bitrun/src/nervos');
    // const {abi}= require('../usr/bitrun/src/bitrun_contracts/compiled.js');
    // const {contractAddress}= require('../usr/bitrun/src/config');
    //
    // const transaction = require('../usr/bitrun/src/bitrun_contracts/transaction');

    const abi=Json.parse([
        {
            "constant": false,
            "inputs": [
                {
                    "name": "_coinName",
                    "type": "string"
                },
                {
                    "name": "_value",
                    "type": "uint256"
                }
            ],
            "name": "withdraw",
            "outputs": [
                {
                    "name": "",
                    "type": "uint256"
                }
            ],
            "payable": true,
            "stateMutability": "payable",
            "type": "function"
        },
        {
            "constant": true,
            "inputs": [],
            "name": "owner",
            "outputs": [
                {
                    "name": "",
                    "type": "address"
                }
            ],
            "payable": false,
            "stateMutability": "view",
            "type": "function"
        },
        {
            "constant": false,
            "inputs": [
                {
                    "name": "_coinName",
                    "type": "string"
                },
                {
                    "name": "_value",
                    "type": "uint256"
                }
            ],
            "name": "sendToCoinWare",
            "outputs": [],
            "payable": false,
            "stateMutability": "nonpayable",
            "type": "function"
        },
        {
            "constant": false,
            "inputs": [
                {
                    "name": "newOwner",
                    "type": "address"
                }
            ],
            "name": "transferOwnership",
            "outputs": [],
            "payable": false,
            "stateMutability": "nonpayable",
            "type": "function"
        },
        {
            "anonymous": false,
            "inputs": [
                {
                    "indexed": false,
                    "name": "_addr",
                    "type": "address"
                }
            ],
            "name": "NewAccount",
            "type": "event"
        },
        {
            "anonymous": false,
            "inputs": [
                {
                    "indexed": false,
                    "name": "_addr",
                    "type": "address"
                },
                {
                    "indexed": false,
                    "name": "_coinName",
                    "type": "string"
                },
                {
                    "indexed": false,
                    "name": "_value",
                    "type": "uint256"
                }
            ],
            "name": "balanceUp",
            "type": "event"
        },
        {
            "anonymous": false,
            "inputs": [
                {
                    "indexed": false,
                    "name": "_addr",
                    "type": "address"
                },
                {
                    "indexed": false,
                    "name": "_coinName",
                    "type": "string"
                },
                {
                    "indexed": false,
                    "name": "_value",
                    "type": "uint256"
                }
            ],
            "name": "balanceDown",
            "type": "event"
        },
        {
            "anonymous": false,
            "inputs": [
                {
                    "indexed": true,
                    "name": "previousOwner",
                    "type": "address"
                },
                {
                    "indexed": true,
                    "name": "newOwner",
                    "type": "address"
                }
            ],
            "name": "OwnershipTransferred",
            "type": "event"
        }
    ])
    const contract=new nervos.appchain.Contract(abi,contractAddress)
    var e1=document.getElementById('have1').value;
    var e2=document.getElementById('number').value;
    
    //const simpleStoreContract = new nervos.appchain.Contract(abi, contractAddress);
    function pay_action() {

contract.methods.gambling(e1,e2).call()
        contract.event.balanceUp()
            .on("data",function(event){
                let data = event.returnValue;
                console.log("success",data._coinName,data._coinValue)
            }).on('error',console.error)
nervos.listeners.listenToTransactionReceipt().then(console.log)

    }
</script>
<style>
    body {
        background: url(12.jpg);
        background-size: cover;
        background-color:rgba(0,152,50,0.7);
        background-position: center;
    }
</style>


<script type ="text/javascript">
    function text_changed()
    {
        var e= document.getElementById('number').value;
        var e1 = document.getElementById("have").value;
        var e2=e1.value;
        document.getElementById('getcoin').value = parseInt(e)*10;
    }


</script>


<div class="page-header">
    <h1><span class="label label-default">gambling</span>
        <span class="label label-primary">transation</span><small>FXMN</small></h1>
</div>
<ul class="nav nav-pills">
    <li role="presentation"><a href="home.html">coin to coin</a></li>
    <li role="presentation" class="active"><a href="#">gambling</a></li>
</ul>

<form class="navbar-form navbar-left" role="search"  >
    <h1>Fill in your user information</h1>

    <p>
    <p>
    <p>
    <p>
    <h2>Your name:</h2>

    <input type="text" class="form-control" name="name" placeholder="your name"/>
    <p>
    <p>
    <p>
    <p>
    <p>
    <p>
    <h2>coin you have:</h2>

    <select name="coinYouHave" size="1"id="have1">
        <option value="1">BitMartToken</option>
        <option value="2">Nerves</option>
        <option value="3">ETH</option>
        <option value="4">CryptoKitties</option>
    </select>

    <p>
    <p>
    <p>
    <p>
    <h2>the number of your coin:</h2>

    <input type="text" class="form-control" name="number"id="number" placeholder="number of your coin"/>
    <p>
    <p>
    <p>
    <p>
    <h2>coin you want:</h2>
    <select name="coinYouWant" size="1">
        <option value="1">BitMartToken</option>
        <option value="2">Nerves</option>
        <option value="3">ETH</option>
        <option value="4">CryptoKitties</option>




    </select>




    <h2>the number of you may get:</h2>
 
    <input type="text" class="form-control" name="getcoin" id="getcoin" placeholder="getcoin"/>



    <p>
    <p>
    <div style="color:indianred" >
    <p >
        if you decide to exchange your coin in gambling,you may get 1/3,1/2,3/2,5/3of the currency you should get.the chance of all is 1/4.

    </p>
    <p>so look before you leap</p></div>

    <h2>the coin you should get</h2>

    <div class="progress">
        <div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="45" aria-valuemin="0" aria-valuemax="100" style="width: 62%">
            <span class="sr-only">45% Complete</span>
        </div>
    </div>
    <h2>the coin you may get</h2>
    <div class="progress">
        <div class="progress-bar progress-bar-success progress-bar-striped" role="progressbar" aria-valuenow="40" aria-valuemin="0" aria-valuemax="100" style="width: 19%">
            <span class="sr-only">40% Complete (success)</span>
        </div>
    </div>
    <div class="progress">
        <div class="progress-bar progress-bar-info progress-bar-striped" role="progressbar" aria-valuenow="20" aria-valuemin="0" aria-valuemax="100" style="width: 30%">
            <span class="sr-only">20% Complete</span>
        </div>
    </div>
    <div class="progress">
        <div class="progress-bar progress-bar-warning progress-bar-striped" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 90%">
            <span class="sr-only">60% Complete (warning)</span>
        </div>
    </div>
    <div class="progress">
        <div class="progress-bar progress-bar-danger progress-bar-striped" role="progressbar" aria-valuenow="80" aria-valuemin="0" aria-valuemax="100" style="width: 100%">
            <span class="sr-only">80% Complete (danger)</span>
        </div>
    </div>
    <p>
    <p>
        <input class="btn btn-default" color="green" type="submit" value="submit" onclick="javaScript:confirm('本次提交就将进行gambling而且不能后悔，您确定要执行这次操作吗？')"></input>

</form>
</body>
</html>

